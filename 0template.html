<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="icon" href="logo/favicon.ico" type="image/vnd.microsoft.icon">
<title>0install: 0template</title>
</head>
<body><table>
<tr>
<td class="logo"><a href="/"><img src="logo/zeroinstall-icon.png" width="96" height="95" alt="logo"></a></td>
<td class="header">
<form id="searchbox_010445122533180311286:4ee7gv0f1pc" action="http://google.com/cse" style="float: right; padding-right: 1em;"><p><input type="hidden" name="cx" value="010445122533180311286:4ee7gv0f1pc"><input name="q" type="search" size="14"><input type="submit" name="sa" value="Search"><input type="hidden" name="cof" value="FORID:0"></p></form>
<h1><a href="/">Zero Install</a></h1>
<p class="tagline">the antidote to app-stores</p>
</td>
</tr>
<tr>
<td class="sidebar"><ul class="pages">
<li class="open">
<a href=".">Overview 
      </a><ul>
<li class="closed"><a href="why.html">About 0install 
      </a></li>
<li class="closed"><a href="features.html">Features 
      </a></li>
</ul>
</li>
<li class="open">
<a href="news.html">News 
      </a><ul>
<li class="leaf"><a href="0install-2.0.html">0install 2.0 
      </a></li>
<li class="leaf"><a href="roadmap.html">Roadmap 
      </a></li>
</ul>
</li>
<li class="open">
<a href="injector.html">Download 0install 
      </a><ul>
<li class="leaf"><a href="install-linux.html">Linux 
      </a></li>
<li class="closed"><a href="install-osx.html">OS X 
      </a></li>
<li class="closed"><a href="install-source.html">Source code 
      </a></li>
<li class="leaf"><a href="install-unix.html">Unix 
      </a></li>
<li class="leaf"><a href="install-windows.html">Windows 
      </a></li>
</ul>
</li>
<li class="leaf"><a href="injector-feeds.html">Featured apps 
      </a></li>
<li class="open">
<a href="doc.html">Documentation 
      </a><ul>
<li class="closed"><a href="users.html">For users 
      </a></li>
<li class="closed"><a href="packagers.html">For packagers 
      </a></li>
<li class="closed"><a href="dev.html">For developers 
      </a></li>
<li class="open">
<a href="tools.html">Tool reference 
      </a><ul>
<li class="leaf"><a href="0bootstrap.html">0bootstrap 
      </a></li>
<li class="closed"><a href="0compile.html">0compile 
      </a></li>
<li class="leaf"><a href="ebox.html">ebox 
      </a></li>
<li class="leaf"><a href="0export.html">0export 
      </a></li>
<li class="leaf"><a href="feedlint.html">FeedLint 
      </a></li>
<li class="leaf"><a href="make-headers.html">Make-headers 
      </a></li>
<li class="leaf"><a href="0mirror.html">0mirror 
      </a></li>
<li class="leaf"><a href="pkg2zero.html">pkg2zero 
      </a></li>
<li class="leaf"><a href="0publish.html">0publish 
      </a></li>
<li class="closed"><a href="0release.html">0release 
      </a></li>
<li class="leaf"><a href="0share.html">0share 
      </a></li>
<li class="leaf"><a href="0template.html" class="selected">0template 
      </a></li>
<li class="leaf"><a href="0repo.html">0repo 
      </a></li>
<li class="leaf"><a href="0test.html">0test 
      </a></li>
</ul>
</li>
<li class="closed"><a href="injector-specs.html">Specifications 
      </a></li>
</ul>
</li>
<li class="open">
<a href="support.html">Support 
      </a><ul>
<li class="leaf"><a href="support.html#lists">Mailing lists 
      </a></li>
<li class="leaf"><a href="support.html#bugs">Bug tracker 
      </a></li>
<li class="leaf"><a href="faq.html">FAQ 
      </a></li>
<li class="leaf"><a href="injector-trouble.html">Troubleshooting 
      </a></li>
<li class="leaf"><a href="support.html#commercial">Commercial 
      </a></li>
</ul>
</li>
<li class="leaf"><a href="legal.html">Legal issues 
      </a></li>
<li class="leaf"><a href="https://github.com/0install">GitHub 
      </a></li>
<li class="leaf"><a href="http://sourceforge.net/project/showfiles.php?group_id=76468">SF file releases 
      </a></li>
</ul></td>
<td class="main">
<div class="main">

<table><tr>
<td style="vertical-align: top">
<h2>0template</h2>

<p>
<b>0template</b> creates the XML for one version of a program from a template. The diagram below shows how it fits into the overall publishing process:
</p>
</td>
<td style="vertical-align: top"><div class="program"><table>
<tr>
<th>Name</th>
<td>0template</td>
</tr>
<tr>
<th>Maintainer</th>
<td>Thomas Leonard</td>
</tr>
<tr>
<th>License</th>
<td>GNU Lesser General Public License</td>
</tr>
<tr>
<th>Run it</th>
<td><a href="http://0install.net/tools/0template.xml">Zero Install feed</a></td>
</tr>
<tr>
<th>SCM</th>
<td><a href="https://github.com/0install/0template">GIT repository</a></td>
</tr>
</table></div></td>
</tr></table>

<div class="figure">
<img src="diagrams/0template.png" width="492" height="341" alt="0template workflow" style="padding: .5em">
</div>

<p>
  That is, each time you want to add a new release of a program to your master XML feed, you first use 0template to generate the XML for the new release. Once you're happy with it, merge it into the master feed with <a href="0repo.html">0repo</a>.
</p>

<p>
  0template is mostly useful for publishing existing binary or source archives. If you are making releases of your own software from Git, consider using <a href="0release.html">0release</a> instead.
</p>

<ol class="toc">
<li><a href="#idm36222962204080">Installation</a></li>
<li><a href="#idm36222962202800">Creating the template</a></li>
<li><a href="#idm36222962197056">Using the template</a></li>
</ol>

<h2 id="idm36222962204080">Installation</h2>

<p>
To get it:
</p>

<table class="fixed"><td><pre>
$ 0install add 0template http://0install.net/tools/0template.xml
</pre></td></table>


<h2 id="idm36222962202800">Creating the template</h2>

<p>
To start, run it with a non-existent file and it will offer to create it:
</p>

<table class="fixed"><td><pre>
$ 0template myprog.xml.template
'myprog.xml.template' does not exist; creating new template.

Does your program need to be compiled before it can be used?

1) Generate a source template (e.g. for compiling C source code)
2) Generate a binary template (e.g. for a pre-compiled binary or script)

&gt; 2

Writing myprog.xml.template
</pre></td></table>

<p>
Then edit the generated <b>myprog.xml.template</b> to taste. A minimal example would be:
</p>

<table class="fixed"><td><pre>
&lt;?xml version="1.0"?&gt;
&lt;interface xmlns="http://zero-install.sourceforge.net/2004/injector/interface"&gt;
  &lt;name&gt;myprog&lt;/name&gt;
  &lt;summary&gt;does useful stuff&lt;/summary&gt;

  &lt;group&gt;
    &lt;command name="run" path="myprog"/&gt;

    &lt;implementation version="{version}"&gt;
      &lt;manifest-digest/&gt;
      &lt;archive href="http://example.com/downloads/myprog-{version}.zip"/&gt;
    &lt;/implementation&gt;
  &lt;/group&gt;
&lt;/interface&gt;
</pre></td></table>

<p>
  You would typically want to add any dependencies here too. See the <a href="interface-spec.html">feed specification</a> for details.
</p>

<p>
Note: You can also use 0template to create a <a href="local-feeds.html">local feed</a> to run a Git checkout, rather than an archive on the web. In that case, just don't use the ".template" extension, and it will generate a feed rather than a template.
</p>

<h2 id="idm36222962197056">Using the template</h2>

<p>
To generate the XML for a particular version, run 0template on it and provide the template parameters ("version" in this example), e.g.
</p>

<table class="fixed"><td><pre>
$ 0template myprog.xml.template version=1.0
Downloading http://example.com/downloads/myprog-1.0.zip to ./myprog-1.0.zip
Writing myprog-1.0.xml
</pre></td></table>

<p>
You now have a feed with the appropriate details filled in:
</p>

<table class="fixed"><td><pre>
&lt;?xml version="1.0"?&gt;
&lt;interface xmlns="http://zero-install.sourceforge.net/2004/injector/interface"&gt;
  &lt;name&gt;myprog&lt;/name&gt;
  &lt;summary&gt;does useful stuff&lt;/summary&gt;

  &lt;group&gt;
    &lt;command name="run" path="myprog"/&gt;

    &lt;implementation id="sha1new=67ba178ed33b292efa5ab364d01a8fc13fe9eba3" version="1.0"&gt;
      &lt;manifest-digest sha256new="FBXDJXLMHAPCRNZ5XOQTVYQHD6VP7CZAZ2UKCCV5UYE27C752GIQ"/&gt;
      &lt;archive extract="myprog-1.0" href="http://example.com/downloads/myprog-1.0.zip" size="352"/&gt;
    &lt;/implementation&gt;
  &lt;/group&gt;
&lt;/interface&gt;
</pre></td></table>

<p>
  Specifically, 0template fills in these values:
</p>

<ul>
  <li>All "{...}" text is expanded with the values you provided on the command-line.</li>
  <li>The archive is downloaded to the directory containing the feed, if it's not already there.</li>
  <li>The <b>size</b> attribute is set to the size of the archive.</li>
  <li>The <b>extract</b> attribute is set to the single top-level directory in the archive, if it has one.</li>
  <li>The <b>id</b> is set to the sha1new digest of the archive.</li>
  <li>Any empty attributes of <b>manifest-digest</b> are filled in with the calculated digests. If there are no attributes, a <b>sha256new</b> digest is added.</li>
</ul>

<p>
  You can now test this feed using e.g.
</p>

<table class="fixed"><td><pre>
$ 0launch myprog-1.0.xml
</pre></td></table>

<p>Or, for source feeds:</p>

<table class="fixed"><td><pre>
$ 0compile autocompile myprog-1.0.xml
</pre></td></table>

<p>
Once you are happy with it, you can add it to
the master feed (which contains all versions) using <a href="0repo.html">0repo</a>. e.g.
</p>

<table class="fixed"><td><pre>
$ 0repo add myprog-1.2.xml
</pre></td></table>

</div>
<div class="footer">
<p>
	    Web-site © Copyright 2003-2015 Thomas Leonard and others<br></p>
<p>
	    Permission is granted to use the site (excluding the software,
	    which is licensed separately)<br>in accordance with the terms of the
	    <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative
	    Commons Attribution-ShareAlike 2.5 license</a>.
	  </p>
<p>
	    Some of the icons are from (or based on icons from) the
	    <a href="http://tango.freedesktop.org/Tango_Desktop_Project">Tango Desktop Project</a> and the <a href="http://www.openclipart.org/">Open Clipart Library</a>.
	  </p>
<span class="logos"><a href="http://creativecommons.org/licenses/by-sa/2.5/"><img src="http://creativecommons.org/images/public/somerights20.gif" alt="Attribution-ShareAlike" width="88" height="31"></a></span>
</div>
</td>
</tr>
</table></body>
</html>
