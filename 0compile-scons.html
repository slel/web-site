<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="style.css">
<link rel="icon" href="logo/favicon.ico" type="image/vnd.microsoft.icon">
<title>0install: Example: SCons</title>
</head>
<body><table>
<tr>
<td class="logo"><a href="/"><img src="logo/zeroinstall-icon.png" width="96" height="95" alt="logo"></a></td>
<td class="header">
<form id="searchbox_010445122533180311286:4ee7gv0f1pc" action="http://google.com/cse" style="float: right; padding-right: 1em;"><p><input type="hidden" name="cx" value="010445122533180311286:4ee7gv0f1pc"><input name="q" type="search" size="14"><input type="submit" name="sa" value="Search"><input type="hidden" name="cof" value="FORID:0"></p></form>
<h1><a href="/">Zero Install</a></h1>
<p class="tagline">the antidote to app-stores</p>
</td>
</tr>
<tr>
<td class="sidebar"><ul class="pages">
<li class="open">
<a href=".">Overview 
      </a><ul>
<li class="closed"><a href="why.html">About 0install 
      </a></li>
<li class="closed"><a href="features.html">Features 
      </a></li>
</ul>
</li>
<li class="open">
<a href="news.html">News 
      </a><ul>
<li class="leaf"><a href="0install-2.0.html">0install 2.0 
      </a></li>
<li class="leaf"><a href="roadmap.html">Roadmap 
      </a></li>
</ul>
</li>
<li class="open">
<a href="injector.html">Download 0install 
      </a><ul>
<li class="leaf"><a href="install-linux.html">Linux 
      </a></li>
<li class="closed"><a href="install-osx.html">OS X 
      </a></li>
<li class="closed"><a href="install-source.html">Source code 
      </a></li>
<li class="leaf"><a href="install-unix.html">Unix 
      </a></li>
<li class="leaf"><a href="install-windows.html">Windows 
      </a></li>
</ul>
</li>
<li class="leaf"><a href="injector-feeds.html">Featured apps 
      </a></li>
<li class="open">
<a href="doc.html">Documentation 
      </a><ul>
<li class="closed"><a href="users.html">For users 
      </a></li>
<li class="closed"><a href="packagers.html">For packagers 
      </a></li>
<li class="closed"><a href="dev.html">For developers 
      </a></li>
<li class="open">
<a href="tools.html">Tool reference 
      </a><ul>
<li class="leaf"><a href="0bootstrap.html">0bootstrap 
      </a></li>
<li class="open">
<a href="0compile.html">0compile 
      </a><ul>
<li class="leaf"><a href="0compile-dev.html">Developers 
      </a></li>
<li class="leaf"><a href="0compile-chroot.html">Chroot Build 
      </a></li>
<li class="leaf"><a href="0compile-scons.html" class="selected">Example: SCons 
      </a></li>
</ul>
</li>
<li class="leaf"><a href="ebox.html">ebox 
      </a></li>
<li class="leaf"><a href="0export.html">0export 
      </a></li>
<li class="leaf"><a href="feedlint.html">FeedLint 
      </a></li>
<li class="leaf"><a href="make-headers.html">Make-headers 
      </a></li>
<li class="leaf"><a href="0mirror.html">0mirror 
      </a></li>
<li class="leaf"><a href="pkg2zero.html">pkg2zero 
      </a></li>
<li class="leaf"><a href="0publish.html">0publish 
      </a></li>
<li class="closed"><a href="0release.html">0release 
      </a></li>
<li class="leaf"><a href="0share.html">0share 
      </a></li>
<li class="leaf"><a href="0template.html">0template 
      </a></li>
<li class="leaf"><a href="0repo.html">0repo 
      </a></li>
<li class="leaf"><a href="0test.html">0test 
      </a></li>
</ul>
</li>
<li class="closed"><a href="injector-specs.html">Specifications 
      </a></li>
</ul>
</li>
<li class="open">
<a href="support.html">Support 
      </a><ul>
<li class="leaf"><a href="support.html#lists">Mailing lists 
      </a></li>
<li class="leaf"><a href="support.html#bugs">Bug tracker 
      </a></li>
<li class="leaf"><a href="faq.html">FAQ 
      </a></li>
<li class="leaf"><a href="injector-trouble.html">Troubleshooting 
      </a></li>
<li class="leaf"><a href="support.html#commercial">Commercial 
      </a></li>
</ul>
</li>
<li class="leaf"><a href="legal.html">Legal issues 
      </a></li>
<li class="leaf"><a href="https://github.com/0install">GitHub 
      </a></li>
<li class="leaf"><a href="http://sourceforge.net/project/showfiles.php?group_id=76468">SF file releases 
      </a></li>
</ul></td>
<td class="main">
<div class="main">

<table><tr>
<td style="vertical-align: top">
<h2>Hello-scons</h2>

<p>
  <b>Hello-scons</b> is a simple "Hello world" program written in C. It is built using the
  <a href="http://www.scons.org/">SCons build tool</a>.
</p>

<p>
Its purpose is to demonstrate the use of 0compile to fetch build dependencies;
you do not need to install SCons manually on your system in order to build it.
</p>

</td>
<td style="vertical-align: top"><div class="program"><table>
<tr>
<th>Name</th>
<td>Hello-scons</td>
</tr>
<tr>
<th>Maintainer</th>
<td>Thomas Leonard</td>
</tr>
<tr>
<th>License</th>
<td>Public domain</td>
</tr>
<tr>
<th>Run it</th>
<td><a href="http://0install.net/tests/Hello-scons.xml">Zero Install feed</a></td>
</tr>
<tr>
<th>SCM</th>
<td><a href="https://github.com/0install/hello-scons">GIT repository</a></td>
</tr>
</table></div></td>
</tr></table>

<p>
This example assumes that you have already read
<a href="0compile.html">the main 0compile tutorial</a>.
</p>

<p>
You can try it out by using the <b>setup</b> command as usual:
</p>

<pre>
$ <b>0compile setup http://0install.net/tests/Hello-scons.xml Hello-scons</b>
</pre>

<p>
<b>0compile</b> will create a 'Hello-scons' directory for the build.
You will be prompted to choose the versions of Hello-scons and SCons:
</p>

<p style="text-align: center">
<img width="610" height="238" src="screens/hello-scons.png" alt="Choosing versions">
</p>

<p>
To build, change into the new directory and use the build command:
</p>

<pre>
$ <b>cd Hello-scons</b>
$ <b>0compile build</b>
Executing: "$SCONS/scons.py" -f "$SRCDIR/SConstruct" --srcdir="$SRCDIR" "$DISTDIR"
</pre>

<p>
This creates a 'hello-scons-ARCH' directory ready for use and/or distribution,
and a 'build' directory with some temporary files, such as 'hello.o'. This is
used only to speed up later rebuilds.
</p>

<p>
To run:
</p>

<pre>
$ <b>0launch hello-scons-linux-x86_64/0install/Hello-scons.xml</b>
Hello world!
</pre>

<p>
To see (or modify) a copy of the source:
</p>

<pre>
$ <b>0compile copy-src</b>
Copied as '/home/me/Hello-scons/src'
</pre>

<p>
The main issues with using SCons with 0compile are that:
</p>

<ul>
<li><p>SCons defaults to saving build files in the source directory. <b>0compile</b>
requires that the source directory is not written to during the build (since the 0install cache
is read-only). Therefore, you must use --srcdir.</p></li>

<li><p>By default, SCons resets all environment variables. This means that
instead of compiling against the library versions you chose, it will
build against whatever happens to be the default on the system today.</p></li>
</ul>

<p>
The <b>src/SConstruct</b> file shows how to fix these problems.
</p>

<p>
For more information (including how to publish the binary using Zero Install),
see <a href="0compile.html">the main 0compile tutorial</a>.
</p>

<h2 id="idm33688025846272">Building from a Git checkout</h2>

<p>
  To build the latest Git version of hello-scons:
</p>

<pre>
$ <b>git clone git://zero-install.git.sourceforge.net/gitroot/zero-install/hello-scons</b>
$ <b>cd hello-scons</b>
$ <b>0compile build</b>
$ <b>0launch hello-scons-linux-x86_64/0install/Hello-scons.xml</b>
Hello world!
</pre>

</div>
<div class="footer">
<p>
	    Web-site © Copyright 2003-2015 Thomas Leonard and others<br></p>
<p>
	    Permission is granted to use the site (excluding the software,
	    which is licensed separately)<br>in accordance with the terms of the
	    <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative
	    Commons Attribution-ShareAlike 2.5 license</a>.
	  </p>
<p>
	    Some of the icons are from (or based on icons from) the
	    <a href="http://tango.freedesktop.org/Tango_Desktop_Project">Tango Desktop Project</a> and the <a href="http://www.openclipart.org/">Open Clipart Library</a>.
	  </p>
<span class="logos"><a href="http://creativecommons.org/licenses/by-sa/2.5/"><img src="http://creativecommons.org/images/public/somerights20.gif" alt="Attribution-ShareAlike" width="88" height="31"></a></span>
</div>
</td>
</tr>
</table></body>
</html>
